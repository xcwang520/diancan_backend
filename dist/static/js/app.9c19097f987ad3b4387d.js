webpackJsonp([2,0],{0:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var a=n(493),s=r(a),o=n(491),i=(r(o),n(26)),l=r(i),u=n(254),d=r(u),c=n(219),f=r(c);n(214);var p=n(273),m=r(p),h=n(132),v=r(h);n(203);var _=n(505),g=r(_),b=n(126),y=r(b);n(213),l.default.use(f.default),l.default.use(m.default),v.default.configure({showSpinner:!1});var w=new m.default({routes:g.default});w.beforeEach(function(e,t,n){"/login"==e.path&&(localStorage.removeItem("user"),localStorage.removeItem("token"));var r=JSON.parse(localStorage.getItem("user"));r||"/login"==e.path||"/regist"==e.path?n():n({path:"/login"})}),y.default.interceptors.request.use(function(e){return v.default.start(),localStorage.getItem("token")&&(e.headers.token=localStorage.getItem("token")),e},function(e){return s.default.reject(e)}),y.default.interceptors.response.use(function(e){return v.default.done(),e},function(e){if(v.default.done(),e.response)switch(e.response.status){case 401:localStorage.removeItem("user"),w.replace({path:"login"})}return s.default.reject(e.response.data)}),new l.default({router:w,render:function(e){return e(d.default)}}).$mount("#app")},63:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.addStep=t.addTop=t.findDishesCount=t.findToday=t.findOrder=t.deleteOrder=t.addOrder=t.updateDish=t.addDish=t.getDishes=t.updatePassword=t.login=t.getDepartments=t.regist=void 0;var a=n(126),s=r(a),o=n(494),i=r(o),l="";t.regist=function(e){return s.default.post(l+"/users/regist",i.default.stringify(e)).then(function(e){return e.data})},t.getDepartments=function(e){return s.default.get(l+"/users/departments",i.default.stringify(e)).then(function(e){return e.data})},t.login=function(e){return s.default.post(l+"/users/login",i.default.stringify(e)).then(function(e){return e.data})},t.updatePassword=function(e){return s.default.post(l+"/users/updatePassword",i.default.stringify(e)).then(function(e){return e.data})},t.getDishes=function(e){return s.default.post(l+"/dishes/queryList",i.default.stringify(e)).then(function(e){return e.data})},t.addDish=function(e){return s.default.post(l+"/dishes/add",i.default.stringify(e)).then(function(e){return e.data})},t.updateDish=function(e){return s.default.post(l+"/dishes/updateStatus",i.default.stringify(e)).then(function(e){return e.data})},t.addOrder=function(e){return s.default.post(l+"/order/add",i.default.stringify(e)).then(function(e){return e.data})},t.deleteOrder=function(e){return s.default.post(l+"/order/deleteByUser",i.default.stringify(e)).then(function(e){return e.data})},t.findOrder=function(e){return s.default.post(l+"/order/find",i.default.stringify(e)).then(function(e){return e.data})},t.findToday=function(e){return s.default.post(l+"/order/findToday",i.default.stringify(e)).then(function(e){return e.data})},t.findDishesCount=function(e){return s.default.post(l+"/order/findDishesCount",i.default.stringify(e)).then(function(e){return e.data})},t.addTop=function(e){return s.default.post(l+"/dishes/addTop",i.default.stringify(e)).then(function(e){return e.data})},t.addStep=function(e){return s.default.post(l+"/dishes/addStep",i.default.stringify(e)).then(function(e){return e.data})}},203:function(e,t){},204:function(e,t){},205:function(e,t){},206:function(e,t){},207:function(e,t){},208:function(e,t){},209:function(e,t){},210:function(e,t){},211:function(e,t){},212:function(e,t){},213:function(e,t){},214:function(e,t){},254:function(e,t,n){n(209);var r=n(31)(n(497),n(268),null,null);e.exports=r.exports},255:function(e,t,n){n(206);var r=n(31)(null,n(265),"data-v-35f9bf69",null);e.exports=r.exports},256:function(e,t,n){n(205);var r=n(31)(n(498),n(264),"data-v-0fa8d79e",null);e.exports=r.exports},257:function(e,t,n){n(204);var r=n(31)(n(499),n(263),"data-v-035702ba",null);e.exports=r.exports},258:function(e,t,n){n(210);var r=n(31)(n(500),n(269),"data-v-62d798f5",null);e.exports=r.exports},259:function(e,t,n){n(207);var r=n(31)(n(501),n(266),null,null);e.exports=r.exports},260:function(e,t,n){n(211);var r=n(31)(n(502),n(270),null,null);e.exports=r.exports},261:function(e,t,n){n(212);var r=n(31)(n(503),n(271),null,null);e.exports=r.exports},262:function(e,t,n){n(208);var r=n(31)(n(504),n(267),null,null);e.exports=r.exports},263:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",staticClass:"demo-form login-container",attrs:{model:e.form,rules:e.rules2,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("系统登录")]),e._v(" "),n("el-form-item",{attrs:{prop:"email"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"邮箱"},model:{value:e.form.email,callback:function(t){e.form.email=t},expression:"form.email"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"password"}},[n("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},model:{value:e.form.password,callback:function(t){e.form.password=t},expression:"form.password"}})],1),e._v(" "),n("el-checkbox",{staticClass:"remember",attrs:{checked:""},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("记住密码")]),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.logining},nativeOn:{click:function(t){t.preventDefault(),e.handleSubmit(t)}}},[e._v("登录")])],1),e._v(" "),n("el-row",[n("a",{staticClass:"regist",attrs:{href:"#regist"}},[e._v("注册")]),e._v(" "),n("a",{staticClass:"forgot",attrs:{href:"#forgot"}},[e._v("忘记密码？")])])],1)},staticRenderFns:[]}},264:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",{staticClass:"container"},[e.showHeader?n("el-col",{ref:"homeHeader",staticClass:"header",attrs:{span:24}},[n("el-col",{staticClass:"logo",attrs:{span:4}},[e._v("\n\t\t\t"+e._s(e.sysName)+"\n\t\t")]),e._v(" "),n("el-col",{staticClass:"topnav",attrs:{span:18}},[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.$route.path,mode:"horizontal"}},[e.admin?n("el-menu-item",{attrs:{index:"/orders"}},[n("a",{attrs:{href:"#/orders"}},[e._v("点餐列表")])]):e._e(),e._v(" "),n("el-menu-item",{attrs:{index:"/dishes"}},[n("a",{attrs:{href:"#/dishes"}},[e._v("菜单")])]),e._v(" "),n("el-menu-item",{attrs:{index:"/history"}},[n("a",{attrs:{href:"#/history"}},[e._v("历史点餐")])]),e._v(" "),n("el-menu-item",{attrs:{index:"/settings"}},[n("a",{attrs:{href:"#/settings"}},[e._v("设置")])])],1)],1),e._v(" "),n("el-col",{staticClass:"userinfo",attrs:{span:2}},[n("el-dropdown",[n("span",{staticClass:"el-dropdown-link userinfo-inner"},[e._v(e._s(e.sysUserName))]),e._v(" "),n("el-dropdown-menu",{slot:"dropdown"},[n("el-dropdown-item",[n("a",{attrs:{href:"#/login"}},[e._v("退出")])])],1)],1)],1)],1):e._e(),e._v(" "),n("el-col",{staticClass:"main",attrs:{span:24}},[n("section",{staticClass:"content-container"},[n("div",{staticClass:"grid-content bg-purple-light"},[n("el-col",{staticClass:"content-wrapper",attrs:{span:24}},[n("transition",[n("router-view")],1)],1)],1)])])],1)},staticRenderFns:[]}},265:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",{staticClass:"page-container"},[e._v("404 page not found")])},staticRenderFns:[]}},266:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"content-wrap"},[n("div",{staticClass:"orderTip-wrap"},[n("el-row",{attrs:{id:"orderTip"}},[n("el-col",{attrs:{span:4}},[n("el-select",{staticStyle:{"margin-left":"20px"},attrs:{placeholder:"请选择"},model:{value:e.sortValue,callback:function(t){e.sortValue=t},expression:"sortValue"}},e._l(e.sorts,function(e){return n("el-option",{attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),n("el-col",{attrs:{span:4}},[e._v("\n        今日点餐:\n      ")]),e._v(" "),n("el-col",{attrs:{span:12}},[e._v("\n        "+e._s(e.order.name||"你还没有点餐")+"\n      ")]),e._v(" "),n("el-col",{attrs:{span:4}},[e.order.id?n("el-button",{attrs:{type:"primary",disabled:e.orderButton},nativeOn:{click:function(t){e.cancelSelect(t)}}},[e._v("取消")]):e._e(),e._v(" "),e.order.id?e._e():n("el-button",{attrs:{type:"primary",disabled:e.orderButton},nativeOn:{click:function(t){e.randSelect(t)}}},[e._v("随机点一个")])],1)],1)],1),e._v(" "),e._l(e.dishesRows,function(t){return n("el-row",{staticClass:"dishes-row"},e._l(e.dishesOn.slice((t-1)*e.rowcounts,t*e.rowcounts),function(t){return n("el-col",{staticClass:"dishes-col",attrs:{span:24/e.rowcounts}},[t.id?n("el-card",{staticClass:"dishes-card",attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:t.img||"http://element.eleme.io/static/hamburger.50e4091.png"}}),e._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("div",{staticClass:"clearfix hot"},[n("el-row",[n("el-col",{attrs:{span:4}},[e._v("辣度:")]),e._v(" "),n("el-col",{attrs:{span:12}},[n("el-rate",{attrs:{disabled:"","text-color":"#ff9900"},model:{value:t.hot,callback:function(e){t.hot=e},expression:"item.hot"}})],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("i",{staticClass:"fa fa-thumbs-o-up active thumbs",attrs:{"aria-hidden":"true"},on:{click:function(n){e.thumbs(1,t)}}}),e._v(" "+e._s(t.top)+"\n              ")]),e._v(" "),n("el-col",{attrs:{span:4}},[n("i",{staticClass:"fa fa-thumbs-o-down thumbs",attrs:{"aria-hidden":"true"},on:{click:function(n){e.thumbs(-1,t)}}}),e._v(" "+e._s(t.step)+"\n              ")])],1)],1),e._v(" "),n("div",{staticClass:"bottom clearfix"},[n("el-button",{attrs:{type:"primary",disabled:e.orderButton},nativeOn:{click:function(n){e.addOrder(t)}}},[e._v("点餐")]),e._v(" "),e.admin?n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(n){e.removeDish(t)}}},[e._v("下架")]):e._e()],1)])]):e._e(),e._v(" "),e.admin&&t.type?n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("el-form",{ref:"form",refInFor:!0,staticClass:"demo-form login-container",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"0px"}},[n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"菜名"},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"hot"}},[n("el-row",[n("el-col",{attrs:{span:4}},[e._v("辣度:")]),e._v(" "),n("el-col",{attrs:{span:20}},[n("el-rate",{model:{value:e.form.hot,callback:function(t){e.form.hot=t},expression:"form.hot"}})],1)],1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"price"}},[n("el-row",[n("el-col",{attrs:{span:4}},[e._v("价格:")]),e._v(" "),n("el-col",{attrs:{span:20}},[n("el-input-number",{attrs:{min:1,max:50,"auto-complete":"off",placeholder:"价格"},model:{value:e.form.price,callback:function(t){e.form.price=t},expression:"form.price"}})],1)],1)],1),e._v(" "),n("el-form-item",{attrs:{prop:"img"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"图片地址"},model:{value:e.form.img,callback:function(t){e.form.img=t},expression:"form.img"}})],1),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary"},nativeOn:{click:function(t){e.addDishes(t)}}},[e._v("添加菜品")])],1)],1)],1):e._e()],1)}))}),e._v(" "),e.admin?n("el-collapse",[n("el-collapse-item",{attrs:{title:"已下架菜品列表",name:"1"}},[n("ul",[n("li",[e._v("已下架菜品列表")]),e._v(" "),e._l(e.dishesOff,function(t){return n("li",{staticStyle:{"line-height":"60px"}},[e._v("\n          "+e._s(t.name)+" "),n("el-button",{attrs:{type:"info"},on:{click:function(n){e.readdDishes(t)}}},[e._v("重新上架")])],1)})],2)])],1):e._e()],2)},staticRenderFns:[]}},267:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-row",[n("el-collapse",{attrs:{accordion:""}},[n("el-collapse-item",{attrs:{title:"密码管理",name:"1"}},[n("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[n("el-form-item",{attrs:{label:"新密码"}},[n("el-input",{model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.changePass(t)}}},[e._v("立即修改")])],1)],1)],1),e._v(" "),n("el-collapse-item",{attrs:{title:"订阅管理",name:"2"}},[n("div",[n("el-switch",{attrs:{"on-text":"开","off-text":"关"},model:{value:e.subscribe,callback:function(t){e.subscribe=t},expression:"subscribe"}})],1),e._v(" "),n("div",[e._v("打开订阅之后,每个工作日的下午四点你将会收到邮件订餐提醒。")])])],1)],1)},staticRenderFns:[]}},268:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},269:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{ref:"form",staticClass:"demo-form login-container",attrs:{model:e.form,rules:e.rules,"label-position":"left","label-width":"0px"}},[n("h3",{staticClass:"title"},[e._v("注册")]),e._v(" "),n("el-form-item",{attrs:{prop:"name"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"姓名"},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"email"}},[n("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"邮箱"},model:{value:e.form.email,callback:function(t){e.form.email=t},expression:"form.email"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"department"}},[n("el-select",{attrs:{placeholder:"请选择部门"},model:{value:e.form.department,callback:function(t){e.form.department=t},expression:"form.department"}},e._l(e.departments,function(e){return n("el-option",{attrs:{label:e.name,value:e.id}})}))],1),e._v(" "),n("el-form-item",{staticStyle:{width:"100%"}},[n("el-button",{staticStyle:{width:"100%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){t.preventDefault(),e.handleSubmit(t)}}},[e._v("注册")])],1),e._v(" "),n("el-row",[n("a",{staticClass:"regist",attrs:{href:"#login"}},[e._v("登录")])])],1)},staticRenderFns:[]}},270:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("点餐记录")])},staticRenderFns:[]}},271:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",[e.showPrint?n("el-button",{attrs:{type:"primary"},on:{click:e.print}},[e._v("打印")]):e._e()],1),e._v(" "),n("div",{ref:"table",staticStyle:{width:"50%"}},[n("div",{staticClass:"orders"},[n("el-row",{staticClass:"header"},[n("el-col",{attrs:{span:4}},[e._v("姓名")]),e._v(" "),n("el-col",{attrs:{span:15}},[e._v("菜品")]),e._v(" "),n("el-col",{attrs:{span:5}},[e._v("点餐时间")])],1),e._v(" "),e._l(e.tableData,function(t){return n("el-row",{staticClass:"content"},[n("el-col",{attrs:{span:4}},[e._v(e._s(t.name))]),e._v(" "),n("el-col",{attrs:{span:15}},[e._v(e._s(t.dishesName))]),e._v(" "),n("el-col",{attrs:{span:5}},[e._v(e._s(t.ordertime))])],1)})],2),e._v(" "),n("br"),e._v(" "),n("el-row",[n("el-col",{attrs:{span:12}},[e._v("菜品")]),e._v(" "),n("el-col",{attrs:{span:4}},[e._v("数量")])],1),e._v(" "),e._l(e.countData,function(t){return n("el-row",[n("el-col",{attrs:{span:12}},[e._v(e._s(t.name))]),e._v(" "),n("el-col",{attrs:{span:4}},[e._v(e._s(t.count))])],1)})],2)],1)},staticRenderFns:[]}},497:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",components:{}}},498:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{showHeader:!0,sysName:"dc",sysUserName:""}},computed:{admin:function(){var e=JSON.parse(localStorage.getItem("user"));return 1==e.admin}},methods:{},mounted:function(){var e=localStorage.getItem("user");e&&(e=JSON.parse(e),this.sysUserName=e.name||"")}}},499:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(182),s=r(a),o=n(63);t.default={data:function(){return{logining:!1,form:{email:"",password:""},rules2:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},checked:!0}},methods:{handleReset:function(){this.$refs.form.resetFields()},handleSubmit:function(e){var t=this;this.$refs.form.validate(function(e){return e?(t.logining=!0,void(0,o.login)(t.form).then(function(e){t.logining=!1;var n=e.msg,r=e.code;if(r&&200!==r)t.$notify({title:"错误",message:n,type:"error"});else{localStorage.setItem("user",(0,s.default)(e.user)),localStorage.setItem("token",e.token);var a=e.admin?"/orders":"/dishes";t.$router.push({path:a})}})):(console.log("error submit!!"),!1)})}},mounted:function(){}}},500:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(63),s=n(132),o=r(s);t.default={data:function(){return{loading:!1,departments:[],form:{name:"",email:"",department:null},rules:{name:[{required:!0,pattern:/^[\u4e00-\u9fa5]{2,3}$/,message:"请输入真实姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"string",pattern:/^[a-z]+\.[a-z]+@(docqian|cloudscreen).com$/,message:"请输入正确的员工邮箱",trigger:"blur"}],department:[{type:"number",required:!0,message:"请选一个部门",trigger:"blur"}]}}},methods:{initDepartments:function(){var e=this;(0,a.getDepartments)().then(function(t){e.departments=t})},handleSubmit:function(e){var t=this,n=this;this.$refs.form.validate(function(e){return e?(t.loading=!0,o.default.start(),(0,a.regist)(t.form).then(function(e){t.loading=!1,o.default.done();var r=e.msg,a=e.code;200!==a?t.$notify({title:"错误",message:r,type:"error"}):(t.$notify({title:"成功",message:"注册成功,密码发送到你的邮箱,请用户密码登录",type:"success"}),n.$router.replace("/login"))}),void 0):(console.log("error submit!!"),!1)})}},mounted:function(){this.initDepartments()}}},501:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(492),s=r(a),o=n(182),i=r(o),l=n(63);t.default={data:function(){return{sortValue:0,sorts:[{value:0,label:"上架时间升序"},{value:1,label:"上架时间降序"},{value:2,label:"点击率降序"},{value:3,label:"好评降序"}],rowcounts:4,order:{},dishesOn:[{type:1}],dishesOff:[],form:{name:"",hot:1,price:"",img:""},rules:{name:[{required:!0,message:"请输入菜名",trigger:"blur"}]}}},computed:{dishesRows:function(){return Math.ceil(this.dishesOn.length/this.rowcounts)},orderButton:function(){var e=new Date;e.setHours(17),e.setMinutes(15);var t=new Date;return!(t<e)},admin:function(){var e=JSON.parse(localStorage.getItem("user"));return 1==e.admin}},methods:{thumbs:function(e,t){var n=JSON.parse(localStorage.getItem("thumbs")||"{}"),r=new Date,a=""+r.getFullYear()+r.getMonth()+r.getDate();n[t.id]!=a&&(n[t.id]=a,1==e?(0,l.addTop)({id:t.id}).then(function(e){t.top++,localStorage.setItem("thumbs",(0,i.default)(n))}):(0,l.addStep)({id:t.id}).then(function(e){t.step++,localStorage.setItem("thumbs",(0,i.default)(n))}))},addOrder:function(e){var t=this;(0,l.deleteOrder)().then(function(n){200==n.code&&(t.order={},t.orderSelect(e))})},orderSelect:function(e){var t=this;(0,l.addOrder)({dishesId:e.id}).then(function(n){200==n.code&&(t.order=e)})},cancelSelect:function(){var e=this;(0,l.deleteOrder)().then(function(t){200==t.code&&(e.order={})})},randSelect:function(){var e=this.dishesOn[Math.floor(Math.random()*this.dishesOn.length)];this.addOrder(e)},removeDish:function(e){var t=this;(0,l.updateDish)({status:1,id:e.id}).then(function(n){200==n.code&&(t.dishesOn.splice(t.dishesOn.indexOf(e),1),e.status=1,t.dishesOff.push(e))})},readdDishes:function(e){var t=this;(0,l.updateDish)({status:0,id:e.id}).then(function(n){200==n.code&&(t.dishesOff.splice(t.dishesOff.indexOf(e),1),e.status=0,t.dishesOn[t.dishesOn.length-1]=e,t.dishesOn.push({type:1}))})},addDishes:function(){var e=this;if(this.form.name){var t={name:this.form.name,hot:this.form.hot,price:this.form.price||0,img:this.form.img||"http://element.eleme.io/static/hamburger.50e4091.png"};(0,l.addDish)(t).then(function(t){e.form.id=t.id,e.dishesOn[e.dishesOn.length-1]=(0,s.default)({},e.form),e.dishesOn.push({type:1})}),this.form={id:null,name:"",price:"",hot:1,img:""}}},initDishes:function(){var e=this;(0,l.findOrder)().then(function(t){t&&t.length&&(e.order=t[0])}),(0,l.getDishes)().then(function(t){e.dishesOn=t,e.dishesOn.push({type:1})}),this.admin&&(0,l.getDishes)({status:1}).then(function(t){e.dishesOff=t})}},mounted:function(){this.initDishes()}}},502:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={}},503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63);t.default={data:function(){return{tableData:[],countData:[],showPrint:!0}},methods:{findDatas:function(){var e=this;(0,r.findToday)().then(function(t){e.tableData=t}),(0,r.findDishesCount)().then(function(t){e.countData=t})},print:function(){var e=this;this.$parent.$parent.$parent.$parent.showHeader=!1,this.showPrint=!1,this.$refs.table.style.width="100%",this.$nextTick(function(){window.print(),e.showPrint=!0,e.$parent.$parent.$parent.$parent.showHeader=!0,e.$refs.table.style.width="50%"})}},mounted:function(){this.findDatas()}}},504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63);t.default={data:function(){return{password:"",subscribe:!1}},methods:{changePass:function(){var e=this;""!=this.password&&(0,r.updatePassword)({password:this.password}).then(function(t){200==t.code&&(e.$notify({title:"成功",message:"修改成功",type:"success"}),e.password="")})}}}},505:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(257),s=r(a),o=n(258),i=r(o),l=n(255),u=r(l),d=n(256),c=r(d),f=n(259),p=r(f),m=n(261),h=r(m),v=n(260),_=r(v),g=n(262),b=r(g),y=[{path:"/login",component:s.default,name:"",hidden:!0},{path:"/regist",component:i.default,name:"",hidden:!0},{path:"/404",component:u.default,name:"",hidden:!0},{path:"/",component:c.default,name:"",iconCls:"fa fa-address-card",leaf:!0,children:[{path:"/dishes",component:p.default,name:"Dishes"}]},{path:"/",component:c.default,name:"",iconCls:"fa fa-address-card",leaf:!0,children:[{path:"/orders",component:h.default,name:"orders"}]},{path:"/",component:c.default,name:"",iconCls:"fa fa-address-card",leaf:!0,children:[{path:"/history",component:_.default,name:"history"}]},{path:"/",component:c.default,name:"",iconCls:"fa fa-address-card",leaf:!0,children:[{path:"/settings",component:b.default,name:"settings"}]},{path:"*",hidden:!0,redirect:{path:"/404"}}];t.default=y}});
//# sourceMappingURL=app.9c19097f987ad3b4387d.js.map